<div *ngIf="cliente.pais">

  <div class="container paddingText">

    <div class="row">
    
    <div class="col-md-6 offset-md-3">
    
    <h2 class="text-success text-center" id="PaddingText"><strong>REGISTRO DE UBICACIÓN</strong></h2>
    
    <form [formGroup]="formGroup" id="Padding">
    
    <div *ngIf="modificar==true; else noModificar">
      <div class="row">
    <div class="form-group col">
    
    <br>
    
    <select name="pais" class="form-control sinborde" formControlName="pais" (change)="getCiudades()"
    [ngClass]="{ 'is-invalid': control.pais.errors && formGroup.get('pais').touched}">

      <option *ngFor="let pais of paises" value={{pais.nombre}} >
          {{pais.nombre}}
        </option>
  
    </select>

    <div *ngIf="control.pais.errors" class="invalid-feedback">
  
      <div *ngIf="control.pais.errors.required">Se require el país.</div>
      
    </div>
    
    </div>
    
    <div class="form-group col">
    
      <br>
  
      <div class="input-group">
      <select name="ciudad" class="form-control sinborde" formControlName="ciudad"
      [ngClass]="{ 'is-invalid': control.ciudad.errors && formGroup.get('ciudad').touched}">
      
        <option *ngFor="let ciudad of ciudades" selected={{ciudad.nombre}} >
            {{ciudad.nombre}}
          </option>
    
      </select>

      <div *ngIf="control.ciudad.errors" class="invalid-feedback">
  
        <div *ngIf="control.ciudad.errors.required">Se require la ciudad.</div>
        
      </div>

      <button class="btn btn-white sinborde text-success" (click)="mod()">
        <svg class="bi bi-arrow-repeat" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"/>
            <path fill-rule="evenodd" d="M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"/>
          </svg>
        </button>
    
    </div>
  </div>
  </div>
  </div>
  <ng-template #noModificar>
    <div class="row">
    <div class="form-group col">
    
      <br>
      
      <input name="pais" [(ngModel)]="cliente.pais" class="form-control sinborde" formControlName="pais" (change)="getCiudades()"
      [ngClass]="{ 'is-invalid': control.pais.errors && formGroup.get('pais').touched}" disabled>
  
      <div *ngIf="control.pais.errors" class="invalid-feedback">
    
        <div *ngIf="control.pais.errors.required">Se require el país.</div>
        
      </div>
      
      </div>
      
      <div class="form-group col">
      
        <br>
    
        <div class="input-group">
        <input name="ciudad" [(ngModel)]="cliente.ciudad" class="form-control sinborde" formControlName="ciudad"
        [ngClass]="{ 'is-invalid': control.ciudad.errors && formGroup.get('ciudad').touched}" disabled>
  
        <div *ngIf="control.ciudad.errors" class="invalid-feedback">
    
          <div *ngIf="control.ciudad.errors.required">Se require la ciudad.</div>
          
        </div>
  
        <button class="btn btn-white sinborde text-success" (click)="noMod()">
          <svg class="bi bi-arrow-repeat" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"/>
              <path fill-rule="evenodd" d="M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"/>
            </svg>
          </button>
      
      </div>
    </div>
  </div>
  </ng-template>

  
    <div class="row">
    <div class="form-group col">
    <br>
      
      <input type="text" name="direccion" [(ngModel)]="cliente.direccion" formControlName="direccion" class="form-control sinborde" 
      placeholder="Dirección" [ngClass]="{ 'is-invalid': control.direccion.errors && formGroup.get('direccion').touched}"/>

      <div *ngIf="control.direccion.errors" class="invalid-feedback">

        <div *ngIf="control.direccion.errors.required">Se require la dirección</div>
        
      </div>
      
      </div>
    
    <div class="form-group col">
    
    <br>
    
    <input type="text" name="barrio" [(ngModel)]="cliente.barrio" formControlName="barrio" class="form-control sinborde" 
    placeholder="Barrio" [ngClass]="{ 'is-invalid': control.barrio.errors && formGroup.get('barrio').touched}"/>

    <div *ngIf="control.barrio.errors" class="invalid-feedback">

      <div *ngIf="control.barrio.errors.required">Se require el barrio</div>
      
    </div>
    
    </div>
  </div>
    
    <div class="form-group">
    
        <br>
        
        <input type="text" name="codigoPostal" [(ngModel)]="cliente.codigoPostal" formControlName="codigoPostal" class="form-control sinborde" 
        placeholder="Código Postal" [ngClass]="{ 'is-invalid': control.codigoPostal.errors && formGroup.get('codigoPostal').touched}"/>

        <div *ngIf="control.codigoPostal.errors" class="invalid-feedback">
    
          <div *ngIf="control.codigoPostal.errors.required">Se require el código postal</div>
          
        </div>
     </div>
  
     <div class="form-group">
    
      <br>
      <div class="input-group">
      <input type="text" name="telefono" formControlName="telefono" [(ngModel)]="cliente.telefono" class="form-control sinborde col" 
      placeholder="Teléfono" [ngClass]="{ 'is-invalid': control.telefono.errors && formGroup.get('telefono').touched}"/>

      <div *ngIf="control.telefono.errors" class="invalid-feedback">
  
        <div *ngIf="control.telefono.errors.required">Se require el teléfono</div>
        <div *ngIf="control.telefono.errors.pattern">Solo números.</div>
        
      </div>
      </div>
      
   </div>
  
    <div class="text-center">
        
    <button class="btn btn-success mr-1" (click)="onSubmit()" [disabled]="formGroup.invalid">Registrar</button>
    
    <button class="btn btn-secondary" type="reset">Cancel</button>
    
    </div>
    
    </form>
    
    </div>
    
    </div>
    
    </div>
</div>

<div *ngIf="cliente.pais == null">
<div class="container paddingText">

    <div class="row">
    
    <div class="col-md-6 offset-md-3">
    
    <h2 class="text-success text-center" id="PaddingText"><strong>REGISTRO DE UBICACIÓN</strong></h2>
    
    <form [formGroup]="formGroup" id="Padding">
    
    <div class="row">
    <div class="form-group col">
    
    <br>
    
    <select name="pais" class="form-control sinborde" formControlName="pais" (change)="getCiudades()"
    [ngClass]="{ 'is-invalid': control.pais.errors && formGroup.get('pais').touched}">

    <option value="" selected>
      País
    </option>
      <option *ngFor="let pais of paises" value={{pais.nombre}} >
          {{pais.nombre}}
        </option>
  
    </select>

    <div *ngIf="control.pais.errors" class="invalid-feedback">
  
      <div *ngIf="control.pais.errors.required">Se require el país.</div>
      
    </div>
    
    </div>
    
    <div class="form-group col">
    
      <br>
  
      <select name="ciudad" class="form-control sinborde" formControlName="ciudad"
      [ngClass]="{ 'is-invalid': control.ciudad.errors && formGroup.get('ciudad').touched}">
      
        <option value="" selected>Ciudad</option>
        <option *ngFor="let ciudad of ciudades" value={{ciudad.nombre}} >
            {{ciudad.nombre}}
          </option>
    
      </select>

      <div *ngIf="control.ciudad.errors" class="invalid-feedback">
  
        <div *ngIf="control.ciudad.errors.required">Se require la ciudad.</div>
        
      </div>
    
    </div>
  
  </div>
    <div class="row">
    <div class="form-group col">
    
      <br>
      
      <input type="text" name="direccion" formControlName="direccion" class="form-control sinborde" 
      placeholder="Dirección" [ngClass]="{ 'is-invalid': control.direccion.errors && formGroup.get('direccion').touched}"/>

      <div *ngIf="control.direccion.errors" class="invalid-feedback">

        <div *ngIf="control.direccion.errors.required">Se require la dirección</div>
        
      </div>
      
      </div>
    
    <div class="form-group col">
    
    <br>
    
    <input type="text" name="barrio" formControlName="barrio" class="form-control sinborde" 
    placeholder="Barrio" [ngClass]="{ 'is-invalid': control.barrio.errors && formGroup.get('barrio').touched}"/>

    <div *ngIf="control.barrio.errors" class="invalid-feedback">

      <div *ngIf="control.barrio.errors.required">Se require el barrio</div>
      
    </div>
    
    </div>
  </div>
    
    <div class="form-group">
    
        <br>
        
        <input type="text" name="codigoPostal" formControlName="codigoPostal" class="form-control sinborde" 
        placeholder="Código Postal" [ngClass]="{ 'is-invalid': control.codigoPostal.errors && formGroup.get('codigoPostal').touched}"/>

        <div *ngIf="control.codigoPostal.errors" class="invalid-feedback">
    
          <div *ngIf="control.codigoPostal.errors.required">Se require el código postal</div>
          
        </div>
     </div>
  
     <div class="form-group">
    
      <br>
      <div class="input-group">
      <input type="text" name="telefono" formControlName="telefono" class="form-control sinborde col" 
      placeholder="Teléfono" [ngClass]="{ 'is-invalid': control.telefono.errors && formGroup.get('telefono').touched}"/>

      <div *ngIf="control.telefono.errors" class="invalid-feedback">
  
        <div *ngIf="control.telefono.errors.required">Se require el teléfono</div>
        <div *ngIf="control.telefono.errors.pattern">Sólo números.</div>
        
      </div>
      </div>
      
   </div>
  
    <div class="text-center">
        
    <button class="btn btn-success mr-1" (click)="onSubmit()" [disabled]="formGroup.invalid">Registrar</button>
    
    <button class="btn btn-secondary" type="reset">Cancel</button>
    
    </div>
    
    </form>
    
    </div>
    
    </div>
    
    </div>
    </div>
  

    <footer class="footer">
      <p id="margen">&copy; Company 2017-2019</p>
    </footer>
